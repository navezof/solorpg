{"id":"uN2Z","dependencies":[{"name":"E:\\Coding\\solorpg\\package.json","includedInParent":true,"mtime":1745917769048},{"name":"./table","loc":{"line":1,"column":23,"index":23},"parent":"E:\\Coding\\solorpg\\src\\journal.js","resolved":"E:\\Coding\\solorpg\\src\\table.js"},{"name":"./utils","loc":{"line":2,"column":23,"index":58},"parent":"E:\\Coding\\solorpg\\src\\journal.js","resolved":"E:\\Coding\\solorpg\\src\\utils.js"},{"name":"./roll","loc":{"line":3,"column":37,"index":107},"parent":"E:\\Coding\\solorpg\\src\\journal.js","resolved":"E:\\Coding\\solorpg\\src\\roll.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.clearJournal=b,exports.createJournalLine=p,exports.createRollOnTableButton=m,exports.parseExpression=d;var e=require(\"./table\"),t=r(require(\"./utils\")),n=require(\"./roll\");function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return l(e)||a(e)||i(e)||u()}function u(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function i(e,t){if(e){if(\"string\"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function a(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function l(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(n){var r=[],u=n.indexOf(\"{\"),i=n.indexOf(\"}\"),a=n.substring(0,u),l=n.substring(u+1,i),c=n.substring(i+1),s=e.tables.find(function(e){return e.name===l}),f=null;return s?f=m(s):console.error(\"Table \".concat(l,\" not found\")),r.push(document.createTextNode(a)),r.push(document.createTextNode(l)),f&&r.push(f),(0,t.default)(c)?r.push.apply(r,o(d(c))):r.push(d(c)),r}function d(e){for(var t=0;t<e.length;t+=1){if(\"{\"===e[t])return s(e);if(\"[\"===e[t])return f(e)}return[document.createTextNode(e)]}function f(e){var r=[],u=e.indexOf(\"[\"),i=e.indexOf(\"]\"),a=e.substring(0,u),l=e.substring(u+1,i),c=e.substring(i+1);return r.push(document.createTextNode(a)),r.push(document.createTextNode((0,n.rollDie)(l))),(0,t.default)(c)?r.push.apply(r,o(d(c))):r.push(d(c)),r}function p(e){for(var t=document.getElementById(\"journal\"),n=document.createElement(\"div\"),r=0;r<e.length;r+=1)n.appendChild(e[r]);t.appendChild(n)}function m(e){var t=document.createElement(\"button\");return t.innerHTML='<button style=\"display: inline-block\">ROLL</button>',t.onclick=function(){p(d((0,n.rollOnTable)(e)))},t}function b(){document.getElementById(\"journal\").innerHTML=\"\"}"},"sourceMaps":{"js":{"mappings":[{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":0}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":13}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":20}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":35}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":43}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":56}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":57}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":64}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":68}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":76}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":89}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":91}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":99}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":117}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":119}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":127}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":151}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":153}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":161}},{"source":"journal.js","original":{"line":88,"column":0},"generated":{"line":1,"column":177}},{"source":"journal.js","original":{"line":1,"column":0},"generated":{"line":1,"column":179}},{"source":"journal.js","name":"_table","original":{"line":1,"column":0},"generated":{"line":1,"column":183}},{"source":"journal.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":185}},{"source":"journal.js","original":{"line":1,"column":0},"generated":{"line":1,"column":193}},{"source":"journal.js","name":"_utils","original":{"line":2,"column":0},"generated":{"line":1,"column":204}},{"source":"journal.js","name":"_interopRequireDefault","original":{"line":2,"column":0},"generated":{"line":1,"column":206}},{"source":"journal.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":208}},{"source":"journal.js","original":{"line":2,"column":0},"generated":{"line":1,"column":216}},{"source":"journal.js","name":"_roll","original":{"line":3,"column":0},"generated":{"line":1,"column":228}},{"source":"journal.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":230}},{"source":"journal.js","original":{"line":3,"column":0},"generated":{"line":1,"column":238}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":248}},{"source":"journal.js","name":"_interopRequireDefault","original":{"line":3,"column":46},"generated":{"line":1,"column":257}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":259}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":262}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":269}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":272}},{"source":"journal.js","name":"__esModule","original":{"line":3,"column":46},"generated":{"line":1,"column":274}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":285}},{"source":"journal.js","name":"default","original":{"line":3,"column":46},"generated":{"line":1,"column":287}},{"source":"journal.js","name":"default","original":{"line":3,"column":46},"generated":{"line":1,"column":288}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":296}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":299}},{"source":"journal.js","name":"_toConsumableArray","original":{"line":3,"column":46},"generated":{"line":1,"column":308}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":310}},{"source":"journal.js","name":"_arrayWithoutHoles","original":{"line":3,"column":46},"generated":{"line":1,"column":313}},{"source":"journal.js","name":"_arrayWithoutHoles","original":{"line":3,"column":46},"generated":{"line":1,"column":320}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":322}},{"source":"journal.js","name":"_iterableToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":326}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":328}},{"source":"journal.js","name":"_unsupportedIterableToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":332}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":334}},{"source":"journal.js","name":"_nonIterableSpread","original":{"line":3,"column":46},"generated":{"line":1,"column":338}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":342}},{"source":"journal.js","name":"_nonIterableSpread","original":{"line":3,"column":46},"generated":{"line":1,"column":351}},{"source":"journal.js","name":"TypeError","original":{"line":3,"column":46},"generated":{"line":1,"column":355}},{"source":"journal.js","name":"TypeError","original":{"line":3,"column":46},"generated":{"line":1,"column":361}},{"source":"journal.js","name":"TypeError","original":{"line":3,"column":46},"generated":{"line":1,"column":365}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":375}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":511}},{"source":"journal.js","name":"_unsupportedIterableToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":520}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":522}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":524}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":527}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":530}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":532}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":533}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":536}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":553}},{"source":"journal.js","name":"_arrayLikeToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":555}},{"source":"journal.js","name":"_arrayLikeToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":562}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":564}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":566}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":569}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":573}},{"source":"journal.js","name":"toString","original":{"line":3,"column":46},"generated":{"line":1,"column":575}},{"source":"journal.js","name":"toString","original":{"line":3,"column":46},"generated":{"line":1,"column":578}},{"source":"journal.js","name":"call","original":{"line":3,"column":46},"generated":{"line":1,"column":587}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":592}},{"source":"journal.js","name":"slice","original":{"line":3,"column":46},"generated":{"line":1,"column":595}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":601}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":604}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":607}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":613}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":624}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":627}},{"source":"journal.js","name":"constructor","original":{"line":3,"column":46},"generated":{"line":1,"column":629}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":643}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":645}},{"source":"journal.js","name":"constructor","original":{"line":3,"column":46},"generated":{"line":1,"column":647}},{"source":"journal.js","name":"name","original":{"line":3,"column":46},"generated":{"line":1,"column":659}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":665}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":673}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":676}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":684}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":686}},{"source":"journal.js","name":"from","original":{"line":3,"column":46},"generated":{"line":1,"column":692}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":697}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":700}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":714}},{"source":"journal.js","name":"test","original":{"line":3,"column":46},"generated":{"line":1,"column":717}},{"source":"journal.js","name":"test","original":{"line":3,"column":46},"generated":{"line":1,"column":760}},{"source":"journal.js","name":"t","original":{"line":3,"column":46},"generated":{"line":1,"column":765}},{"source":"journal.js","name":"_arrayLikeToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":768}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":770}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":772}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":780}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":783}},{"source":"journal.js","name":"_iterableToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":792}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":794}},{"source":"journal.js","name":"Symbol","original":{"line":3,"column":46},"generated":{"line":1,"column":797}},{"source":"journal.js","name":"Symbol","original":{"line":3,"column":46},"generated":{"line":1,"column":800}},{"source":"journal.js","name":"Symbol","original":{"line":3,"column":46},"generated":{"line":1,"column":820}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":828}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":834}},{"source":"journal.js","name":"Symbol","original":{"line":3,"column":46},"generated":{"line":1,"column":836}},{"source":"journal.js","name":"iterator","original":{"line":3,"column":46},"generated":{"line":1,"column":843}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":854}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":860}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":862}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":876}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":883}},{"source":"journal.js","name":"from","original":{"line":3,"column":46},"generated":{"line":1,"column":889}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":894}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":897}},{"source":"journal.js","name":"_arrayWithoutHoles","original":{"line":3,"column":46},"generated":{"line":1,"column":906}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":908}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":911}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":914}},{"source":"journal.js","name":"isArray","original":{"line":3,"column":46},"generated":{"line":1,"column":920}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":928}},{"source":"journal.js","name":"_arrayLikeToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":931}},{"source":"journal.js","name":"_arrayLikeToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":938}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":940}},{"source":"journal.js","original":{"line":3,"column":46},"generated":{"line":1,"column":943}},{"source":"journal.js","name":"_arrayLikeToArray","original":{"line":3,"column":46},"generated":{"line":1,"column":952}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":954}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":956}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":960}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":966}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":969}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":971}},{"source":"journal.js","name":"length","original":{"line":3,"column":46},"generated":{"line":1,"column":973}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":983}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":985}},{"source":"journal.js","name":"length","original":{"line":3,"column":46},"generated":{"line":1,"column":987}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":995}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":999}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":1003}},{"source":"journal.js","name":"n","original":{"line":3,"column":46},"generated":{"line":1,"column":1005}},{"source":"journal.js","name":"n","original":{"line":3,"column":46},"generated":{"line":1,"column":1007}},{"source":"journal.js","name":"Array","original":{"line":3,"column":46},"generated":{"line":1,"column":1009}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":1015}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":1018}},{"source":"journal.js","name":"a","original":{"line":3,"column":46},"generated":{"line":1,"column":1020}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":1022}},{"source":"journal.js","name":"n","original":{"line":3,"column":46},"generated":{"line":1,"column":1026}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":1028}},{"source":"journal.js","name":"r","original":{"line":3,"column":46},"generated":{"line":1,"column":1031}},{"source":"journal.js","name":"e","original":{"line":3,"column":46},"generated":{"line":1,"column":1033}},{"source":"journal.js","name":"n","original":{"line":3,"column":46},"generated":{"line":1,"column":1036}},{"source":"journal.js","name":"n","original":{"line":3,"column":46},"generated":{"line":1,"column":1043}},{"source":"journal.js","original":{"line":5,"column":0},"generated":{"line":1,"column":1045}},{"source":"journal.js","name":"parseTable","original":{"line":5,"column":9},"generated":{"line":1,"column":1054}},{"source":"journal.js","name":"expression","original":{"line":5,"column":20},"generated":{"line":1,"column":1056}},{"source":"journal.js","original":{"line":6,"column":2},"generated":{"line":1,"column":1059}},{"source":"journal.js","name":"content","original":{"line":6,"column":8},"generated":{"line":1,"column":1063}},{"source":"journal.js","original":{"line":6,"column":18},"generated":{"line":1,"column":1065}},{"source":"journal.js","name":"openIndex","original":{"line":8,"column":8},"generated":{"line":1,"column":1068}},{"source":"journal.js","name":"expression","original":{"line":8,"column":20},"generated":{"line":1,"column":1070}},{"source":"journal.js","name":"indexOf","original":{"line":8,"column":31},"generated":{"line":1,"column":1072}},{"source":"journal.js","original":{"line":8,"column":39},"generated":{"line":1,"column":1080}},{"source":"journal.js","name":"closeIndex","original":{"line":9,"column":8},"generated":{"line":1,"column":1085}},{"source":"journal.js","name":"expression","original":{"line":9,"column":21},"generated":{"line":1,"column":1087}},{"source":"journal.js","name":"indexOf","original":{"line":9,"column":32},"generated":{"line":1,"column":1089}},{"source":"journal.js","original":{"line":9,"column":40},"generated":{"line":1,"column":1097}},{"source":"journal.js","name":"before","original":{"line":11,"column":8},"generated":{"line":1,"column":1102}},{"source":"journal.js","name":"expression","original":{"line":11,"column":17},"generated":{"line":1,"column":1104}},{"source":"journal.js","name":"substring","original":{"line":11,"column":28},"generated":{"line":1,"column":1106}},{"source":"journal.js","original":{"line":11,"column":38},"generated":{"line":1,"column":1116}},{"source":"journal.js","name":"openIndex","original":{"line":11,"column":41},"generated":{"line":1,"column":1118}},{"source":"journal.js","name":"tableName","original":{"line":12,"column":8},"generated":{"line":1,"column":1121}},{"source":"journal.js","name":"expression","original":{"line":12,"column":20},"generated":{"line":1,"column":1123}},{"source":"journal.js","name":"substring","original":{"line":12,"column":31},"generated":{"line":1,"column":1125}},{"source":"journal.js","name":"openIndex","original":{"line":12,"column":41},"generated":{"line":1,"column":1135}},{"source":"journal.js","original":{"line":12,"column":53},"generated":{"line":1,"column":1137}},{"source":"journal.js","name":"closeIndex","original":{"line":12,"column":56},"generated":{"line":1,"column":1139}},{"source":"journal.js","name":"after","original":{"line":13,"column":8},"generated":{"line":1,"column":1142}},{"source":"journal.js","name":"expression","original":{"line":13,"column":16},"generated":{"line":1,"column":1144}},{"source":"journal.js","name":"substring","original":{"line":13,"column":27},"generated":{"line":1,"column":1146}},{"source":"journal.js","name":"closeIndex","original":{"line":13,"column":37},"generated":{"line":1,"column":1156}},{"source":"journal.js","original":{"line":13,"column":50},"generated":{"line":1,"column":1158}},{"source":"journal.js","name":"table","original":{"line":15,"column":8},"generated":{"line":1,"column":1161}},{"source":"journal.js","name":"tables","original":{"line":15,"column":16},"generated":{"line":1,"column":1163}},{"source":"journal.js","original":{"line":15,"column":22},"generated":{"line":1,"column":1165}},{"source":"journal.js","name":"find","original":{"line":15,"column":23},"generated":{"line":1,"column":1172}},{"source":"journal.js","original":{"line":15,"column":28},"generated":{"line":1,"column":1177}},{"source":"journal.js","name":"t","original":{"line":15,"column":29},"generated":{"line":1,"column":1186}},{"source":"journal.js","original":{"line":15,"column":30},"generated":{"line":1,"column":1189}},{"source":"journal.js","name":"t","original":{"line":15,"column":35},"generated":{"line":1,"column":1196}},{"source":"journal.js","name":"name","original":{"line":15,"column":37},"generated":{"line":1,"column":1198}},{"source":"journal.js","name":"tableName","original":{"line":15,"column":46},"generated":{"line":1,"column":1205}},{"source":"journal.js","name":"button","original":{"line":16,"column":6},"generated":{"line":1,"column":1209}},{"source":"journal.js","original":{"line":16,"column":15},"generated":{"line":1,"column":1211}},{"source":"journal.js","original":{"line":33,"column":2},"generated":{"line":1,"column":1216}},{"source":"journal.js","name":"table","original":{"line":17,"column":7},"generated":{"line":1,"column":1223}},{"source":"journal.js","name":"button","original":{"line":20,"column":4},"generated":{"line":1,"column":1225}},{"source":"journal.js","name":"createRollOnTableButton","original":{"line":20,"column":13},"generated":{"line":1,"column":1227}},{"source":"journal.js","name":"table","original":{"line":20,"column":37},"generated":{"line":1,"column":1229}},{"source":"journal.js","name":"console","original":{"line":18,"column":4},"generated":{"line":1,"column":1232}},{"source":"journal.js","name":"error","original":{"line":18,"column":12},"generated":{"line":1,"column":1240}},{"source":"journal.js","name":"concat","original":{"line":18,"column":17},"generated":{"line":1,"column":1246}},{"source":"journal.js","name":"concat","original":{"line":18,"column":17},"generated":{"line":1,"column":1255}},{"source":"journal.js","name":"tableName","original":{"line":18,"column":27},"generated":{"line":1,"column":1262}},{"source":"journal.js","original":{"line":18,"column":48},"generated":{"line":1,"column":1264}},{"source":"journal.js","name":"content","original":{"line":23,"column":2},"generated":{"line":1,"column":1279}},{"source":"journal.js","name":"push","original":{"line":23,"column":10},"generated":{"line":1,"column":1281}},{"source":"journal.js","name":"document","original":{"line":23,"column":15},"generated":{"line":1,"column":1286}},{"source":"journal.js","name":"createTextNode","original":{"line":23,"column":24},"generated":{"line":1,"column":1295}},{"source":"journal.js","name":"before","original":{"line":23,"column":39},"generated":{"line":1,"column":1310}},{"source":"journal.js","name":"content","original":{"line":24,"column":2},"generated":{"line":1,"column":1314}},{"source":"journal.js","name":"push","original":{"line":24,"column":10},"generated":{"line":1,"column":1316}},{"source":"journal.js","name":"document","original":{"line":24,"column":15},"generated":{"line":1,"column":1321}},{"source":"journal.js","name":"createTextNode","original":{"line":24,"column":24},"generated":{"line":1,"column":1330}},{"source":"journal.js","name":"tableName","original":{"line":24,"column":39},"generated":{"line":1,"column":1345}},{"source":"journal.js","name":"button","original":{"line":25,"column":6},"generated":{"line":1,"column":1349}},{"source":"journal.js","name":"content","original":{"line":26,"column":4},"generated":{"line":1,"column":1352}},{"source":"journal.js","name":"push","original":{"line":26,"column":12},"generated":{"line":1,"column":1354}},{"source":"journal.js","name":"button","original":{"line":26,"column":17},"generated":{"line":1,"column":1359}},{"source":"journal.js","original":{"line":28,"column":6},"generated":{"line":1,"column":1363}},{"source":"journal.js","name":"isIterable","original":{"line":28,"column":6},"generated":{"line":1,"column":1365}},{"source":"journal.js","original":{"line":28,"column":16},"generated":{"line":1,"column":1367}},{"source":"journal.js","name":"after","original":{"line":28,"column":17},"generated":{"line":1,"column":1376}},{"source":"journal.js","name":"content","original":{"line":29,"column":4},"generated":{"line":1,"column":1379}},{"source":"journal.js","name":"push","original":{"line":29,"column":12},"generated":{"line":1,"column":1381}},{"source":"journal.js","name":"apply","original":{"line":29,"column":16},"generated":{"line":1,"column":1386}},{"source":"journal.js","name":"content","original":{"line":29,"column":4},"generated":{"line":1,"column":1392}},{"source":"journal.js","name":"_toConsumableArray","original":{"line":29,"column":11},"generated":{"line":1,"column":1394}},{"source":"journal.js","name":"parseExpression","original":{"line":29,"column":20},"generated":{"line":1,"column":1396}},{"source":"journal.js","name":"after","original":{"line":29,"column":36},"generated":{"line":1,"column":1398}},{"source":"journal.js","name":"content","original":{"line":31,"column":4},"generated":{"line":1,"column":1403}},{"source":"journal.js","name":"push","original":{"line":31,"column":12},"generated":{"line":1,"column":1405}},{"source":"journal.js","name":"parseExpression","original":{"line":31,"column":17},"generated":{"line":1,"column":1410}},{"source":"journal.js","name":"after","original":{"line":31,"column":33},"generated":{"line":1,"column":1412}},{"source":"journal.js","name":"content","original":{"line":33,"column":9},"generated":{"line":1,"column":1416}},{"source":"journal.js","original":{"line":36,"column":7},"generated":{"line":1,"column":1418}},{"source":"journal.js","name":"parseExpression","original":{"line":36,"column":16},"generated":{"line":1,"column":1427}},{"source":"journal.js","name":"expression","original":{"line":36,"column":32},"generated":{"line":1,"column":1429}},{"source":"journal.js","original":{"line":37,"column":2},"generated":{"line":1,"column":1432}},{"source":"journal.js","original":{"line":37,"column":7},"generated":{"line":1,"column":1436}},{"source":"journal.js","name":"i","original":{"line":37,"column":11},"generated":{"line":1,"column":1440}},{"source":"journal.js","original":{"line":37,"column":15},"generated":{"line":1,"column":1442}},{"source":"journal.js","name":"i","original":{"line":37,"column":18},"generated":{"line":1,"column":1444}},{"source":"journal.js","name":"expression","original":{"line":37,"column":22},"generated":{"line":1,"column":1446}},{"source":"journal.js","name":"length","original":{"line":37,"column":33},"generated":{"line":1,"column":1448}},{"source":"journal.js","name":"i","original":{"line":37,"column":41},"generated":{"line":1,"column":1455}},{"source":"journal.js","original":{"line":37,"column":46},"generated":{"line":1,"column":1458}},{"source":"journal.js","original":{"line":37,"column":49},"generated":{"line":1,"column":1460}},{"source":"journal.js","original":{"line":38,"column":4},"generated":{"line":1,"column":1461}},{"source":"journal.js","original":{"line":38,"column":26},"generated":{"line":1,"column":1464}},{"source":"journal.js","name":"expression","original":{"line":38,"column":8},"generated":{"line":1,"column":1470}},{"source":"journal.js","name":"i","original":{"line":38,"column":19},"generated":{"line":1,"column":1472}},{"source":"journal.js","original":{"line":39,"column":6},"generated":{"line":1,"column":1475}},{"source":"journal.js","name":"parseTable","original":{"line":39,"column":13},"generated":{"line":1,"column":1482}},{"source":"journal.js","name":"expression","original":{"line":39,"column":24},"generated":{"line":1,"column":1484}},{"source":"journal.js","original":{"line":40,"column":6},"generated":{"line":1,"column":1487}},{"source":"journal.js","original":{"line":40,"column":28},"generated":{"line":1,"column":1490}},{"source":"journal.js","name":"expression","original":{"line":40,"column":10},"generated":{"line":1,"column":1496}},{"source":"journal.js","name":"i","original":{"line":40,"column":21},"generated":{"line":1,"column":1498}},{"source":"journal.js","original":{"line":41,"column":6},"generated":{"line":1,"column":1501}},{"source":"journal.js","name":"parseDie","original":{"line":41,"column":13},"generated":{"line":1,"column":1508}},{"source":"journal.js","name":"expression","original":{"line":41,"column":22},"generated":{"line":1,"column":1510}},{"source":"journal.js","original":{"line":44,"column":2},"generated":{"line":1,"column":1513}},{"source":"journal.js","original":{"line":44,"column":9},"generated":{"line":1,"column":1519}},{"source":"journal.js","name":"document","original":{"line":44,"column":10},"generated":{"line":1,"column":1520}},{"source":"journal.js","name":"createTextNode","original":{"line":44,"column":19},"generated":{"line":1,"column":1529}},{"source":"journal.js","name":"expression","original":{"line":44,"column":34},"generated":{"line":1,"column":1544}},{"source":"journal.js","original":{"line":47,"column":0},"generated":{"line":1,"column":1548}},{"source":"journal.js","name":"parseDie","original":{"line":47,"column":9},"generated":{"line":1,"column":1557}},{"source":"journal.js","name":"expression","original":{"line":47,"column":18},"generated":{"line":1,"column":1559}},{"source":"journal.js","original":{"line":48,"column":2},"generated":{"line":1,"column":1562}},{"source":"journal.js","name":"content","original":{"line":48,"column":8},"generated":{"line":1,"column":1566}},{"source":"journal.js","original":{"line":48,"column":18},"generated":{"line":1,"column":1568}},{"source":"journal.js","name":"openIndex","original":{"line":50,"column":8},"generated":{"line":1,"column":1571}},{"source":"journal.js","name":"expression","original":{"line":50,"column":20},"generated":{"line":1,"column":1573}},{"source":"journal.js","name":"indexOf","original":{"line":50,"column":31},"generated":{"line":1,"column":1575}},{"source":"journal.js","original":{"line":50,"column":39},"generated":{"line":1,"column":1583}},{"source":"journal.js","name":"closeIndex","original":{"line":51,"column":8},"generated":{"line":1,"column":1588}},{"source":"journal.js","name":"expression","original":{"line":51,"column":21},"generated":{"line":1,"column":1590}},{"source":"journal.js","name":"indexOf","original":{"line":51,"column":32},"generated":{"line":1,"column":1592}},{"source":"journal.js","original":{"line":51,"column":40},"generated":{"line":1,"column":1600}},{"source":"journal.js","name":"before","original":{"line":53,"column":8},"generated":{"line":1,"column":1605}},{"source":"journal.js","name":"expression","original":{"line":53,"column":17},"generated":{"line":1,"column":1607}},{"source":"journal.js","name":"substring","original":{"line":53,"column":28},"generated":{"line":1,"column":1609}},{"source":"journal.js","original":{"line":53,"column":38},"generated":{"line":1,"column":1619}},{"source":"journal.js","name":"openIndex","original":{"line":53,"column":41},"generated":{"line":1,"column":1621}},{"source":"journal.js","name":"diceExpression","original":{"line":54,"column":8},"generated":{"line":1,"column":1624}},{"source":"journal.js","name":"expression","original":{"line":54,"column":25},"generated":{"line":1,"column":1626}},{"source":"journal.js","name":"substring","original":{"line":54,"column":36},"generated":{"line":1,"column":1628}},{"source":"journal.js","name":"openIndex","original":{"line":54,"column":46},"generated":{"line":1,"column":1638}},{"source":"journal.js","original":{"line":54,"column":58},"generated":{"line":1,"column":1640}},{"source":"journal.js","name":"closeIndex","original":{"line":54,"column":61},"generated":{"line":1,"column":1642}},{"source":"journal.js","name":"after","original":{"line":55,"column":8},"generated":{"line":1,"column":1645}},{"source":"journal.js","name":"expression","original":{"line":55,"column":16},"generated":{"line":1,"column":1647}},{"source":"journal.js","name":"substring","original":{"line":55,"column":27},"generated":{"line":1,"column":1649}},{"source":"journal.js","name":"closeIndex","original":{"line":55,"column":37},"generated":{"line":1,"column":1659}},{"source":"journal.js","original":{"line":55,"column":50},"generated":{"line":1,"column":1661}},{"source":"journal.js","original":{"line":64,"column":2},"generated":{"line":1,"column":1664}},{"source":"journal.js","name":"content","original":{"line":57,"column":2},"generated":{"line":1,"column":1671}},{"source":"journal.js","name":"push","original":{"line":57,"column":10},"generated":{"line":1,"column":1673}},{"source":"journal.js","name":"document","original":{"line":57,"column":15},"generated":{"line":1,"column":1678}},{"source":"journal.js","name":"createTextNode","original":{"line":57,"column":24},"generated":{"line":1,"column":1687}},{"source":"journal.js","name":"before","original":{"line":57,"column":39},"generated":{"line":1,"column":1702}},{"source":"journal.js","name":"content","original":{"line":58,"column":2},"generated":{"line":1,"column":1706}},{"source":"journal.js","name":"push","original":{"line":58,"column":10},"generated":{"line":1,"column":1708}},{"source":"journal.js","name":"document","original":{"line":58,"column":15},"generated":{"line":1,"column":1713}},{"source":"journal.js","name":"createTextNode","original":{"line":58,"column":24},"generated":{"line":1,"column":1722}},{"source":"journal.js","original":{"line":58,"column":39},"generated":{"line":1,"column":1738}},{"source":"journal.js","name":"rollDie","original":{"line":58,"column":39},"generated":{"line":1,"column":1740}},{"source":"journal.js","original":{"line":58,"column":46},"generated":{"line":1,"column":1742}},{"source":"journal.js","name":"diceExpression","original":{"line":58,"column":47},"generated":{"line":1,"column":1751}},{"source":"journal.js","original":{"line":59,"column":6},"generated":{"line":1,"column":1757}},{"source":"journal.js","name":"isIterable","original":{"line":59,"column":6},"generated":{"line":1,"column":1759}},{"source":"journal.js","original":{"line":59,"column":16},"generated":{"line":1,"column":1761}},{"source":"journal.js","name":"after","original":{"line":59,"column":17},"generated":{"line":1,"column":1770}},{"source":"journal.js","name":"content","original":{"line":60,"column":4},"generated":{"line":1,"column":1773}},{"source":"journal.js","name":"push","original":{"line":60,"column":12},"generated":{"line":1,"column":1775}},{"source":"journal.js","name":"apply","original":{"line":60,"column":16},"generated":{"line":1,"column":1780}},{"source":"journal.js","name":"content","original":{"line":60,"column":4},"generated":{"line":1,"column":1786}},{"source":"journal.js","name":"_toConsumableArray","original":{"line":60,"column":11},"generated":{"line":1,"column":1788}},{"source":"journal.js","name":"parseExpression","original":{"line":60,"column":20},"generated":{"line":1,"column":1790}},{"source":"journal.js","name":"after","original":{"line":60,"column":36},"generated":{"line":1,"column":1792}},{"source":"journal.js","name":"content","original":{"line":62,"column":4},"generated":{"line":1,"column":1797}},{"source":"journal.js","name":"push","original":{"line":62,"column":12},"generated":{"line":1,"column":1799}},{"source":"journal.js","name":"parseExpression","original":{"line":62,"column":17},"generated":{"line":1,"column":1804}},{"source":"journal.js","name":"after","original":{"line":62,"column":33},"generated":{"line":1,"column":1806}},{"source":"journal.js","name":"content","original":{"line":64,"column":9},"generated":{"line":1,"column":1810}},{"source":"journal.js","original":{"line":67,"column":7},"generated":{"line":1,"column":1812}},{"source":"journal.js","name":"createJournalLine","original":{"line":67,"column":16},"generated":{"line":1,"column":1821}},{"source":"journal.js","name":"content","original":{"line":67,"column":34},"generated":{"line":1,"column":1823}},{"source":"journal.js","original":{"line":70,"column":2},"generated":{"line":1,"column":1826}},{"source":"journal.js","original":{"line":68,"column":2},"generated":{"line":1,"column":1830}},{"source":"journal.js","name":"journal","original":{"line":68,"column":8},"generated":{"line":1,"column":1834}},{"source":"journal.js","name":"document","original":{"line":68,"column":18},"generated":{"line":1,"column":1836}},{"source":"journal.js","name":"getElementById","original":{"line":68,"column":27},"generated":{"line":1,"column":1845}},{"source":"journal.js","original":{"line":68,"column":42},"generated":{"line":1,"column":1860}},{"source":"journal.js","name":"newLine","original":{"line":69,"column":8},"generated":{"line":1,"column":1871}},{"source":"journal.js","name":"document","original":{"line":69,"column":18},"generated":{"line":1,"column":1873}},{"source":"journal.js","name":"createElement","original":{"line":69,"column":27},"generated":{"line":1,"column":1882}},{"source":"journal.js","original":{"line":69,"column":41},"generated":{"line":1,"column":1896}},{"source":"journal.js","name":"i","original":{"line":70,"column":11},"generated":{"line":1,"column":1903}},{"source":"journal.js","original":{"line":70,"column":15},"generated":{"line":1,"column":1905}},{"source":"journal.js","name":"i","original":{"line":70,"column":18},"generated":{"line":1,"column":1907}},{"source":"journal.js","name":"content","original":{"line":70,"column":22},"generated":{"line":1,"column":1909}},{"source":"journal.js","name":"length","original":{"line":70,"column":30},"generated":{"line":1,"column":1911}},{"source":"journal.js","name":"i","original":{"line":70,"column":38},"generated":{"line":1,"column":1918}},{"source":"journal.js","original":{"line":70,"column":43},"generated":{"line":1,"column":1921}},{"source":"journal.js","name":"newLine","original":{"line":71,"column":4},"generated":{"line":1,"column":1923}},{"source":"journal.js","name":"appendChild","original":{"line":71,"column":12},"generated":{"line":1,"column":1925}},{"source":"journal.js","name":"content","original":{"line":71,"column":24},"generated":{"line":1,"column":1937}},{"source":"journal.js","name":"i","original":{"line":71,"column":32},"generated":{"line":1,"column":1939}},{"source":"journal.js","name":"journal","original":{"line":73,"column":2},"generated":{"line":1,"column":1943}},{"source":"journal.js","name":"appendChild","original":{"line":73,"column":10},"generated":{"line":1,"column":1945}},{"source":"journal.js","name":"newLine","original":{"line":73,"column":22},"generated":{"line":1,"column":1957}},{"source":"journal.js","original":{"line":76,"column":7},"generated":{"line":1,"column":1960}},{"source":"journal.js","name":"createRollOnTableButton","original":{"line":76,"column":16},"generated":{"line":1,"column":1969}},{"source":"journal.js","name":"table","original":{"line":76,"column":40},"generated":{"line":1,"column":1971}},{"source":"journal.js","original":{"line":77,"column":2},"generated":{"line":1,"column":1974}},{"source":"journal.js","name":"button","original":{"line":77,"column":8},"generated":{"line":1,"column":1978}},{"source":"journal.js","name":"document","original":{"line":77,"column":17},"generated":{"line":1,"column":1980}},{"source":"journal.js","name":"createElement","original":{"line":77,"column":26},"generated":{"line":1,"column":1989}},{"source":"journal.js","original":{"line":77,"column":40},"generated":{"line":1,"column":2003}},{"source":"journal.js","original":{"line":82,"column":2},"generated":{"line":1,"column":2013}},{"source":"journal.js","name":"button","original":{"line":78,"column":2},"generated":{"line":1,"column":2020}},{"source":"journal.js","name":"innerHTML","original":{"line":78,"column":9},"generated":{"line":1,"column":2022}},{"source":"journal.js","original":{"line":78,"column":21},"generated":{"line":1,"column":2032}},{"source":"journal.js","name":"button","original":{"line":79,"column":2},"generated":{"line":1,"column":2086}},{"source":"journal.js","name":"onclick","original":{"line":79,"column":9},"generated":{"line":1,"column":2088}},{"source":"journal.js","original":{"line":79,"column":19},"generated":{"line":1,"column":2096}},{"source":"journal.js","name":"createJournalLine","original":{"line":80,"column":4},"generated":{"line":1,"column":2107}},{"source":"journal.js","name":"parseExpression","original":{"line":80,"column":22},"generated":{"line":1,"column":2109}},{"source":"journal.js","original":{"line":80,"column":38},"generated":{"line":1,"column":2112}},{"source":"journal.js","name":"rollOnTable","original":{"line":80,"column":38},"generated":{"line":1,"column":2114}},{"source":"journal.js","original":{"line":80,"column":49},"generated":{"line":1,"column":2116}},{"source":"journal.js","name":"table","original":{"line":80,"column":50},"generated":{"line":1,"column":2129}},{"source":"journal.js","name":"button","original":{"line":82,"column":9},"generated":{"line":1,"column":2135}},{"source":"journal.js","original":{"line":85,"column":7},"generated":{"line":1,"column":2137}},{"source":"journal.js","name":"clearJournal","original":{"line":85,"column":16},"generated":{"line":1,"column":2146}},{"source":"journal.js","name":"document","original":{"line":86,"column":18},"generated":{"line":1,"column":2150}},{"source":"journal.js","name":"getElementById","original":{"line":86,"column":27},"generated":{"line":1,"column":2159}},{"source":"journal.js","original":{"line":86,"column":42},"generated":{"line":1,"column":2174}},{"source":"journal.js","name":"innerHTML","original":{"line":87,"column":10},"generated":{"line":1,"column":2185}},{"source":"journal.js","original":{"line":87,"column":22},"generated":{"line":1,"column":2195}}],"sources":{"journal.js":"import { tables } from './table';\r\nimport isIterable from './utils';\r\nimport { rollDie, rollOnTable } from './roll';\r\n\r\nfunction parseTable(expression) {\r\n  const content = [];\r\n\r\n  const openIndex = expression.indexOf('{');\r\n  const closeIndex = expression.indexOf('}');\r\n\r\n  const before = expression.substring(0, openIndex);\r\n  const tableName = expression.substring(openIndex + 1, closeIndex);\r\n  const after = expression.substring(closeIndex + 1);\r\n\r\n  const table = tables.find((t) => t.name === tableName);\r\n  let button = null;\r\n  if (!table) {\r\n    console.error(`Table ${tableName} not found`);\r\n  } else {\r\n    button = createRollOnTableButton(table);\r\n  }\r\n\r\n  content.push(document.createTextNode(before));\r\n  content.push(document.createTextNode(tableName));\r\n  if (button) {\r\n    content.push(button);\r\n  }\r\n  if (isIterable(after)) {\r\n    content.push(...parseExpression(after));\r\n  } else {\r\n    content.push(parseExpression(after));\r\n  }\r\n  return content;\r\n}\r\n\r\nexport function parseExpression(expression) {\r\n  for (let i = 0; i < expression.length; i += 1) {\r\n    if (expression[i] === '{') {\r\n      return parseTable(expression);\r\n    } if (expression[i] === '[') {\r\n      return parseDie(expression);\r\n    }\r\n  }\r\n  return [document.createTextNode(expression)];\r\n}\r\n\r\nfunction parseDie(expression) {\r\n  const content = [];\r\n\r\n  const openIndex = expression.indexOf('[');\r\n  const closeIndex = expression.indexOf(']');\r\n\r\n  const before = expression.substring(0, openIndex);\r\n  const diceExpression = expression.substring(openIndex + 1, closeIndex);\r\n  const after = expression.substring(closeIndex + 1);\r\n\r\n  content.push(document.createTextNode(before));\r\n  content.push(document.createTextNode(rollDie(diceExpression)));\r\n  if (isIterable(after)) {\r\n    content.push(...parseExpression(after));\r\n  } else {\r\n    content.push(parseExpression(after));\r\n  }\r\n  return content;\r\n}\r\n\r\nexport function createJournalLine(content) {\r\n  const journal = document.getElementById('journal');\r\n  const newLine = document.createElement('div');\r\n  for (let i = 0; i < content.length; i += 1) {\r\n    newLine.appendChild(content[i]);\r\n  }\r\n  journal.appendChild(newLine);\r\n}\r\n\r\nexport function createRollOnTableButton(table) {\r\n  const button = document.createElement('button');\r\n  button.innerHTML = '<button style=\"display: inline-block\">ROLL</button>';\r\n  button.onclick = function btnFunction() {\r\n    createJournalLine(parseExpression(rollOnTable(table)));\r\n  };\r\n  return button;\r\n}\r\n\r\nexport function clearJournal() {\r\n  const journal = document.getElementById('journal');\r\n  journal.innerHTML = '';\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"0e04e2983781d5a2487266cf1c15c01d","cacheData":{"env":{}}}