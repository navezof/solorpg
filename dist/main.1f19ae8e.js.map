{"version":3,"sources":["table.js","utils.js","roll.js","journal.js","main.js"],"names":["distance","exports","name","dice","entries","number","element","roomType","trap","tables","isIterable","obj","Symbol","iterator","rollDie","expression","parts","split","numberOfDice","parseInt","sides","Number","isNaN","Error","concat","total","i","Math","floor","random","rollOnTable","table","result","randomNumber","length","entry","includes","range","lowEnd","highEnd","fullResult","_table","require","_utils","_interopRequireDefault","_roll","e","__esModule","default","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","Array","from","test","isArray","n","parseTable","content","openIndex","indexOf","closeIndex","before","substring","tableName","after","find","button","console","error","createRollOnTableButton","push","document","createTextNode","apply","parseExpression","parseDie","diceExpression","createJournalLine","journal","getElementById","newLine","createElement","appendChild","innerHTML","onclick","btnFunction","clearJournal","_journal","btnClearJournal","log"],"mappings":";;AIAA,IAAAmG,QAAA,GAAAzD,OAAA;AAEA,IAAMoC,MAAM,GAAGK,QAAQ,CAACQ,cAAc,CAAC,QAAQ,CAAC;AAChD,IAAMS,eAAe,GAAGjB,QAAQ,CAACQ,cAAc,CAAC,cAAc,CAAC;AAE/Db,MAAM,CAACkB,OAAO,GAAG,YAAY;AJLtB,ACAQ,EGMb,EJNWhG,EIMLqE,GHNgB3D,GDAH,CIMN,EJNMT,CIMH,GHNgBS,CGMhB4E,AHNiB3E,EDAd,CAAAX,ACAiB,EAAE,MDAnB,GAAG,UIMS,EAAC,6DAA6D,CAAC;AFNzF,EEOL,AJNAE,ACAA,IGMAuF,AJNI,ACAA9E,EDAE,CEDQG,ADCP,IAAI,GCDUA,CAACC,ADCP,CDAC,CCAC,QCDe,EAAE,GEOjB,EAACsD,OAAO,CAAC;AAC5B,CAAC,CFPC,AFCAlE,ECAE,EDAE,EAAE,GCAG,EDAE,GCAG;AEFhB,ACUAiG,EFRE,AFCAhG,ACAA,EEHFqC,KHGS,CGHT,CHGW,CACP,CGJJC,ECUe,CAACsD,IDVhB,GCUuB,GAAG,YAAY;ADTtC,ECUEjB,AFRA,ADCA,EEHFpC,AHGMtC,KIOG,AHPA,CEHT,ACUUgG,AJPE,EAAE,CGHdzD,ACUa,CAAC,CJPG,CCADjC,GAAG,CAACC,MAAM,CAACC,QEH3B,AFGmC,CEHnC6B,AFGoC,CGOC,CAAC,GHPG,EEHzC,QFGmD;AEFnD,AFGA,EGOE,AFRA,ECFFG,AHEmBvC,EIQjB4F,GDVF,EHE0B,CGF1BxD,CHE4B,MGF5B,QCUc,EAAC,CAAC;ADV8B,ACW9C,CAAC,CFRC,AFDkC,CAAC,EACjC,IGH0CE,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,EDI5C,EFDIzC,KGHwC4C,CHGlC,EAAE,KAAK,WGH2BC,CAAA,WAAAC,kBAAA,CAAAD,CAAA,KAAAE,gBAAA,CAAAF,CAAA,KAAAG,2BAAA,CAAAH,CAAA,KAAAI,kBAAA;AAAA,EDK5C,EFFmBhD,KGHyBgD,EHGlB,EAAE,eGHgB,cAAAC,SAAA;AAAA,EDM5C,AFHiD,CAAC,EAChD,IGJ0CF,4BAAAH,CAAA,EAAAM,CAAA,QAAAN,CAAA,2BAAAA,CAAA,SAAAO,iBAAA,CAAAP,CAAA,EAAAM,CAAA,OAAAE,CAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAV,CAAA,EAAAW,KAAA,6BAAAH,CAAA,IAAAR,CAAA,CAAAY,WAAA,KAAAJ,CAAA,GAAAR,CAAA,CAAAY,WAAA,CAAA5D,IAAA,aAAAwD,CAAA,cAAAA,CAAA,GAAAK,KAAA,CAAAC,IAAA,CAAAd,CAAA,oBAAAQ,CAAA,+CAAAO,IAAA,CAAAP,CAAA,IAAAD,iBAAA,CAAAP,CAAA,EAAAM,CAAA;AAAA,EDO5C,EFHInD,KGJwC+C,CHIlC,EAAE,KAAK,SGJ2BF,CAAA,8BAAAtC,MAAA,YAAAsC,CAAA,CAAAtC,MAAA,CAAAC,QAAA,aAAAqC,CAAA,uBAAAa,KAAA,CAAAC,IAAA,CAAAd,CAAA;AAAA,EDQ5C,EFJmB5C,KGJyB6C,EHIlB,EAAE,eGJgBD,CAAA,QAAAa,KAAA,CAAAG,OAAA,CAAAhB,CAAA,UAAAO,iBAAA,CAAAP,CAAA;AAAA,EHIV,CAAC,MGJSO,kBAAAP,CAAA,EAAAM,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAN,CAAA,CAAAhB,MAAA,MAAAsB,CAAA,GAAAN,CAAA,CAAAhB,MAAA,YAAAY,CAAA,MAAAqB,CAAA,GAAAJ,KAAA,CAAAP,CAAA,GAAAV,CAAA,GAAAU,CAAA,EAAAV,CAAA,IAAAqB,CAAA,CAAArB,CAAA,IAAAI,CAAA,CAAAJ,CAAA,UAAAqB,CAAA;AAE9C,AHGA,CAAC,CEKC,IAAMnD,GCRCoD,EDQI,GAAGrD,KCRGqD,CAACrD,IDQM,CAACE,KCRG,ADQE,CAAC,CCRD,EDQI,CAAC;AFH9B,EGJL,ADQA,EFJWV,EGJL8D,ADQAnD,MFJa,CGJN,EHIMjB,CGJH,EAAE,ADQA,GAAGkB,CFJF,CAAAZ,MEIU,CAACS,CFJX,GAAG,CEIa,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;ECN3C,ADOA,AFJAd,IGHMoE,ADOAlD,AFJF,EAAE,GEIK,GAAGD,CCPC,GAAGJ,CHGD,GEIK,CAACC,KCPK,ADOA,CCPCuD,ADOA,CAAC,CAAC,EAAE,EAAE,CCPC,ADOA,CCPC,GAAG,CAAC;EACzC,ADQA,AFLApE,IGHMqE,ADQFnD,AFLA,EAAE,IEKI,CAACC,CFLC,EGHI,EDQA,CCRGP,ADQFK,KAAK,CAAC,ICRM,ADQFA,CCRGmD,IDQE,GCRK,CAAC,ADQF,CAAC,ECRI,ADQF,CCRG;EAE1C,AHEAnE,EEKE,ECPIqE,GHEC,CEKC,CFLC,CGFG,AHGV,EEIUlD,CCPGR,IDOE,MCPQ,CAAC2D,SAAS,CAAC,CAAC,EAAEJ,SAAS,CAAC,EDOhC9C,MAAA,CAA+BR,KAAK,CAAC,CAAC,CAAC,OAAG,CAAC;ECN5D,ADOA,EFLIX,EGFEsE,IHEI,EAAE,GGFG,EHEE,CGFC5D,UAAU,CAAC2D,SAAS,CAACJ,SAAS,GAAG,CAAC,EAAEE,UAAU,CAAC;EACjE,ADQA,EFPmBlE,EGDbsE,ADQFnD,KCRO,ADQF,AFPiB,EAAE,CGDdV,ADQF,CAAC,SCRW,CAAC2D,SAAS,CAACF,UAAU,GAAG,CAAC,CAAC;EAElD,ADOA,AFRoC,CAAC,EACnC,CGAIzC,CDOD,ICPM,ADOFL,CAAC,ECPIjB,CDOD,CAAC,EAAEiB,CAAC,GAAGR,KCPA,CAAC2D,IAAI,CAAC,CDOM,EAAEnD,CAAC,IAAI,CAAC,CCPbgC,CAAC,ADOc;ICPd,ADQ1BjC,AFREpB,KEQG,CFRG,CGAuBqD,CAAC,AHAtB,CGAuBxD,ADQxByB,EFRI,EGAwB,ADQxB,CAACC,ICR4B+C,CDQvB,CAAChD,IAAI,CAACE,ECR0B,IDQpB,CAAC,CAAC,GAAGT,KAAK,CAAC,GAAG,CAAC;ECRK,ADSrD,ECTsD,AHArCd,OAAO,EAAE;EGC1B,ADSA,AFVmC,CAAC,EAClC,CGAEwE,GDSGrD,GCTG,EDSE,CCTC,IAAI;ADUnB,ECTE,EHDIpB,EGCA,CAAC0B,GHDK,EGCA,AHDE,EGCA,CHDG;IGEbgD,AHFezE,OGER,AHFe,CGEd0E,CHFgB,IGEX,UAAAxD,MAAA,CAAUmD,SAAS,eAAY,CAAC;ADUjD,ECTE,AHHyC,CGGxC,AHHyC,EACxC,IGEK;ADUT,ICTIG,AHHEzE,MGGI,AHHE,EAAE,CGGD4E,EHHI,qBGGmB,CAAClD,KAAK,CAAC;ADU3C,ECTE,EHJiBzB,OAAO,EAAE;AEc5B,ECRE+D,AHNyC,CAAC,EACxC,IGKK,CAACa,IAAI,CAACC,QAAQ,CAACC,cAAc,CAACX,MAAM,CAAC,CAAC;ADS/C,ECREJ,EHNIhE,KGMG,CAAC6E,AHNE,EAAE,EGMA,CAACC,AHNE,QGMM,CAACC,cAAc,CAACT,SAAS,CAAC,CAAC;ADSlD,ECRE,EHPiBrE,EGObwE,KHPoB,CGOd,CHPgB,CGOd;ADSd,EFhBkC,CAAC,CGQ/BT,CHPA,MGOO,CAACa,IAAI,CAACJ,MAAM,CAAC;ADSxB,ECRE,EHRIzE,MAAM,EAAE,GAAG;AEiBjB,ECRE,EHTiBC,EGSb,IAAAI,CHToB,EAAE,WGSZ,EAACkE,KAAK,CAAC,EAAE;ADSzB,EFlB0C,CAAC,CGUvCP,CHTA,MGSO,CAACa,IAAI,CAAAG,KAAA,CAAZhB,OAAO,EAAApB,kBAAA,CAASqC,eAAe,CAACV,KAAK,CAAC,EAAC;ADSpC,ECRL,CAAC,CHVGvE,KGUG,ADQOyB,CFlBJ,EAAE,GAAG,KEkBUA,CAACC,KAAK,EAAE;EACjC,ECREsC,AHXe/D,EEmBb0B,KCRK,AHXe,CGWdkD,ADQA,CFnBgB,EEmBb,CCRC,CAACI,ADQA,eCRe,CAACV,KAAK,CAAC,CAAC;EACtC,ADQA,AFpByC,CAAC,EACxC,CEmBI3C,YAAY,GAAGnB,OAAO,CAACiB,KAAK,CAAC5B,IAAI,CAAC;ECPxC,ADQA,EFpBIE,GEoBC,ECREgE,CHZG,CEoBD3C,CAAC,AFpBE,GEoBC,AFpBE,CGYD,ADQA,EAAEA,CAAC,GAAGK,KAAK,CAAC3B,OAAO,CAAC8B,MAAM,EAAER,CAAC,IAAI,CAAC,EAAE;ACPpD,IDQI,AFrBepB,IEqBT6B,GFrBgB,EEqBX,AFrBa,GEqBVJ,KAAK,CAAC3B,OAAO,CAACsB,CAAC,CAAC;ACN3B,EHfgC,CAAC,CEsBpC,CFrBA,GEqBIS,CCPQmD,IDOH,CAACjF,MAAM,CAAC+B,GCPUkD,CAACvE,IDOH,CAAC,GAAG,CAAC,CCPQ,CDON,CCPQ;EAC1C,EHfIV,EEsBA,CCPC,GDOKgC,AFtBA,CGeDX,CAAC,AHfE,GGeC,ADOE,CCPD,AHfE,EGeAA,ADOES,CCPD,GAAGpB,CDOG,CAACV,MAAM,CAACY,CCPD,CAACiB,GDOK,CAAC,ECPA,CDOG,CCPDR,ADOE,CCPD,IAAI,CAAC,EAAE;IAC7C,AHhBgBpB,EEuBd,ECPES,EDOIuB,CFvBe,EAAE,GEuBX,ECPA,CAACZ,ADOEP,CCPD,CAAC,KAAK,CDOG,CAACkB,CCPD,EAAE,EDOI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;EFvBC,CAAC,GGiBvC,ADOA,IAAME,GCPC6B,IDOM,GAAGjD,GCPC,CAACJ,IDOM,CAACsB,KCPG,ADOE,CCPD,ADOE,CAAC,CAAC,EAAE,EAAE,CAAC;AFtB5C,CAAC,GGgBG,EDOE,IAAIJ,YAAY,IAAIK,MAAM,IAAIL,YAAY,IAAIM,OAAO,EAAE;AFrBtD,IGcD,AHdO/B,IGcHO,ADQFiB,AFtBS,GAAA/B,GEsBH,GAAGkC,CCRG,AHdH,CGcIT,AHdJlB,CGcK,CAAC,CDQD,CAACF,AFtBN,GGcW,AHdR,GGcW,CDQD,CCRG;EHb/BJ,IGcI,ADQA,AFtBA,EAAE,KGcKqF,CHdC,OGcO,CAACxE,UAAU,CAAC;EHb/BZ,EGcE,ADQA,CAAC,CFtBC,EAAE,GEsBG,EFtBE,EEsBEgB,QAAQ,CAACgB,KAAK,CAAC9B,MAAM,EAAE,EAAE,CAAC,KAAK4B,YAAY,EAAE;ECP1D,AHdA7B,IEsBI4B,GFtBG,EAAE,CEsBC,AFrBR,GEqBWG,KAAK,CAAC7B,OAAO;ECP1B,EDQE,AFtBED,KGcG,CAAC8E,AHdE,EAAE,GAAG,GGcC,CAACC,cAAc,CAACrE,UAAU,CAAC,CAAC;AAC9C,EDQE,EFvBiBT,OAAO,EAAE;AGiB5B,EDOE,AFxBgC,CAAC,EAC/B,CEuBIkC,GCPC+C,ODOS,CCPDA,CAACxE,UAAU,EAAE,ADOZS,MAAA,CAAcO,KAAK,CAAC7B,IAAI,QAAAsB,MAAA,CAAKQ,MAAM,QAAAR,MAAA,CAAKS,YAAY,MAAG;ECNvE,ADOA,EFxBI5B,EGiBEgE,GDOC7B,CFxBG,EAAE,CGiBC,EHjBE,CGiBC,EAAE,CDOD;AACnB,ECNE,EHnBiBlC,EGmBXgE,KHnBkB,EAAE,EGmBX,GAAGvD,UAAU,CAACwD,OAAO,CAAC,GAAG,CAAC;EACzC,AHpBwC,CAAC,EACvC,CGmBIC,UAAU,GAAGzD,UAAU,CAACwD,OAAO,CAAC,GAAG,CAAC;EAE1C,EHrBIlE,EGqBEoE,IHrBI,EGqBE,AHrBA,GGqBG1D,AHrBA,UGqBU,CAAC2D,SAAS,CAAC,CAAC,EAAEJ,SAAS,CAAC;EACjD,EHtBiBhE,EGsBXkF,KHtBkB,EAAE,OGsBN,GAAGzE,UAAU,CAAC2D,SAAS,CAACJ,SAAS,GAAG,CAAC,EAAEE,UAAU,CAAC;EACtE,AHvBqC,CAAC,EACpC,CGsBII,KAAK,GAAG7D,UAAU,CAAC2D,SAAS,CAACF,UAAU,GAAG,CAAC,CAAC;EAElDH,EHxBIhE,KGwBG,CAAC6E,AHxBE,EAAE,EGwBA,CAACC,AHxBE,QGwBM,CAACC,cAAc,CAACX,MAAM,CAAC,CAAC;EAC7CJ,EHzBiB/D,KGyBV,CAAC4E,CHzBgB,EAAE,CGyBd,CAACC,QAAQ,CAACC,cAAc,CAAC,IAAAtE,aAAO,EAAC0E,cAAc,CAAC,CAAC,CAAC;EAC9D,AH1BgC,CAAC,EAC/B,CGyBE,IAAA9E,cAAU,EAACkE,KAAK,CAAC,EAAE;IACrBP,AH1BEhE,MAAM,CG0BD,CAAC6E,AH1BE,GAAG,CG0BD,CAAAG,KAAA,CAAZhB,OAAO,EAAApB,kBAAA,CAASqC,eAAe,CAACV,KAAK,CAAC,EAAC;EACzC,CAAC,CH3BgBtE,KG2BV,EH3BiB,EAAE;EAAQ,CAAC,CG4BjC+D,CH3BA,MG2BO,CAACa,IAAI,CAACI,eAAe,CAACV,KAAK,CAAC,CAAC;EACtC,EH5BIvE,MAAM,EAAE,GAAG;EG6Bf,EH7BiBC,KG6BV+D,EH7BiB,EAAE,GG6BZ;AAChB,EH9B0C,CAAC;AGgCpC,AH9BP,CAAC,QG8BeoB,iBAAiBA,CAACpB,OAAO,EAAE;AH5BpC,EG6BL,EH7BW5D,EG6BLiF,IH7BW,GG6BJ,AH7BIzF,GG6BDkF,IH7BC,CAAA1E,GG6BO,CAACkF,EH7BR,GAAG,CACpB3F,QG4BuC,AH5B/B,CG4BgC,CH3BxCO,QG2BiD,AH3BzC,CG2B0C,CH1BlDC,IAAI,CACL;EG0BC,IAAMoF,OAAO,GAAGT,QAAQ,CAACU,aAAa,CAAC,KAAK,CAAC;EAC7C,KAAK,IAAInE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2C,OAAO,CAACnC,MAAM,EAAER,CAAC,IAAI,CAAC,EAAE;IAC1CkE,OAAO,CAACE,WAAW,CAACzB,OAAO,CAAC3C,CAAC,CAAC,CAAC;EACjC;EACAgE,OAAO,CAACI,WAAW,CAACF,OAAO,CAAC;AAC9B;AAEO,SAASX,uBAAuBA,CAAClD,KAAK,EAAE;EAC7C,IAAM+C,MAAM,GAAGK,QAAQ,CAACU,aAAa,CAAC,QAAQ,CAAC;EAC/Cf,MAAM,CAACiB,SAAS,GAAG,qDAAqD;EACxEjB,MAAM,CAACkB,OAAO,GAAG,SAASC,WAAWA,CAAA,EAAG;IACtCR,iBAAiB,CAACH,eAAe,CAAC,IAAAxD,iBAAW,EAACC,KAAK,CAAC,CAAC,CAAC;EACxD,CAAC;EACD,OAAO+C,MAAM;AACf;AAEO,SAASoB,YAAYA,CAAA,EAAG;EAC7B,IAAMR,OAAO,GAAGP,QAAQ,CAACQ,cAAc,CAAC,SAAS,CAAC;EAClDD,OAAO,CAACK,SAAS,GAAG,EAAE;AACxB","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["export const distance = {\r\n  name: 'Distance',\r\n  dice: '1d6',\r\n  entries: [\r\n    { number: '1', element: 'Close' },\r\n    { number: '2-3', element: 'Near at #1d3 meter' },\r\n    { number: '4-6', element: 'Far' }],\r\n};\r\n\r\nexport const roomType = {\r\n  name: 'Room Type',\r\n  dice: '1d10',\r\n  entries: [\r\n    { number: '1-2', element: 'Empty' },\r\n    { number: '3', element: '{Trap}' },\r\n    { number: '4', element: 'Minor hazard' },\r\n    { number: '5', element: 'Solo monster' },\r\n    { number: '6', element: 'NPC' },\r\n    { number: '7', element: 'Monster mob' },\r\n    { number: '8', element: 'Major hazard' },\r\n    { number: '9', element: 'Treasure' },\r\n    { number: '10', element: 'Boss monster' },\r\n  ],\r\n};\r\n\r\nexport const trap = {\r\n  name: 'Trap',\r\n  dice: '1d6',\r\n  entries: [\r\n    { number: '1', element: 'Pit' },\r\n    { number: '2', element: 'Poison dart' },\r\n    { number: '3', element: 'Fireball' },\r\n    { number: '4', element: 'Gas' },\r\n    { number: '5', element: 'Blade' },\r\n    { number: '6', element: 'Electricity' },\r\n  ],\r\n};\r\n\r\nexport const tables = [\r\n  distance,\r\n  roomType,\r\n  trap,\r\n];\r\n","export default function isIterable(obj) {\r\n  if (obj == null) {\r\n    return false;\r\n  }\r\n  return typeof obj[Symbol.iterator] === 'function';\r\n}\r\n","export function rollDie(expression) {\r\n  // expression = \"1d6\"\r\n  // expression = \"2d10\"\r\n  // expression = \"1d6+1\"\r\n  // expression = \"1d6 + 1\"\r\n  // expression = \"1d6-1\"\r\n  // expression = \"1d6 - 1\"\r\n  // expression = \"1d6*2\"\r\n  // expression = \"1d6 * 2\"\r\n  // expression = \"1d6/2\"\r\n  // expression = \"1d6 / 2\"\r\n\r\n  const parts = expression.split('d');\r\n  const numberOfDice = parseInt(parts[0], 10);\r\n  const sides = parseInt(parts[1], 10);\r\n\r\n  if (Number.isNaN(sides) || sides <= 0) {\r\n    throw new Error(`Invalid dice sides value: \"${parts[1]}\"`);\r\n  }\r\n\r\n  let total = 0;\r\n  for (let i = 0; i < numberOfDice; i += 1) {\r\n    total += Math.floor(Math.random() * sides) + 1;\r\n  }\r\n  return total;\r\n}\r\n\r\n/**\r\n * Rolls on a table and returns the result.\r\n * @param {Object} table - The table to roll on.\r\n * @param {string} table.dice - The dice expression (e.g., \"1d6\").\r\n * @param {Array} table.entries - The entries of the table.\r\n * @param {string} table.name - The name of the table.\r\n * Each entry in table.entries should have:\r\n *   - {string} number: A single number or a range (e.g., \"1\" or \"1-3\").\r\n *   - {string} element: The result corresponding to the number or range.\r\n */\r\nexport function rollOnTable(table) {\r\n  let result = '';\r\n  const randomNumber = rollDie(table.dice);\r\n  for (let i = 0; i < table.entries.length; i += 1) {\r\n    const entry = table.entries[i];\r\n    if (entry.number.includes('-')) {\r\n      const range = entry.number.split('-');\r\n      const lowEnd = parseInt(range[0], 10);\r\n      const highEnd = parseInt(range[1], 10);\r\n      if (randomNumber >= lowEnd && randomNumber <= highEnd) {\r\n        result = entry.element;\r\n      }\r\n    } else if (parseInt(entry.number, 10) === randomNumber) {\r\n      result = entry.element;\r\n    }\r\n  }\r\n  const fullResult = `Roll on ${table.name}: ${result} (${randomNumber})`;\r\n  return fullResult;\r\n}","import { tables } from './table';\r\nimport isIterable from './utils';\r\nimport { rollDie, rollOnTable } from './roll';\r\n\r\nfunction parseTable(expression) {\r\n  const content = [];\r\n\r\n  const openIndex = expression.indexOf('{');\r\n  const closeIndex = expression.indexOf('}');\r\n\r\n  const before = expression.substring(0, openIndex);\r\n  const tableName = expression.substring(openIndex + 1, closeIndex);\r\n  const after = expression.substring(closeIndex + 1);\r\n\r\n  const table = tables.find((t) => t.name === tableName);\r\n  let button = null;\r\n  if (!table) {\r\n    console.error(`Table ${tableName} not found`);\r\n  } else {\r\n    button = createRollOnTableButton(table);\r\n  }\r\n\r\n  content.push(document.createTextNode(before));\r\n  content.push(document.createTextNode(tableName));\r\n  if (button) {\r\n    content.push(button);\r\n  }\r\n  if (isIterable(after)) {\r\n    content.push(...parseExpression(after));\r\n  } else {\r\n    content.push(parseExpression(after));\r\n  }\r\n  return content;\r\n}\r\n\r\nexport function parseExpression(expression) {\r\n  for (let i = 0; i < expression.length; i += 1) {\r\n    if (expression[i] === '{') {\r\n      return parseTable(expression);\r\n    } if (expression[i] === '[') {\r\n      return parseDie(expression);\r\n    }\r\n  }\r\n  return [document.createTextNode(expression)];\r\n}\r\n\r\nfunction parseDie(expression) {\r\n  const content = [];\r\n\r\n  const openIndex = expression.indexOf('[');\r\n  const closeIndex = expression.indexOf(']');\r\n\r\n  const before = expression.substring(0, openIndex);\r\n  const diceExpression = expression.substring(openIndex + 1, closeIndex);\r\n  const after = expression.substring(closeIndex + 1);\r\n\r\n  content.push(document.createTextNode(before));\r\n  content.push(document.createTextNode(rollDie(diceExpression)));\r\n  if (isIterable(after)) {\r\n    content.push(...parseExpression(after));\r\n  } else {\r\n    content.push(parseExpression(after));\r\n  }\r\n  return content;\r\n}\r\n\r\nexport function createJournalLine(content) {\r\n  const journal = document.getElementById('journal');\r\n  const newLine = document.createElement('div');\r\n  for (let i = 0; i < content.length; i += 1) {\r\n    newLine.appendChild(content[i]);\r\n  }\r\n  journal.appendChild(newLine);\r\n}\r\n\r\nexport function createRollOnTableButton(table) {\r\n  const button = document.createElement('button');\r\n  button.innerHTML = '<button style=\"display: inline-block\">ROLL</button>';\r\n  button.onclick = function btnFunction() {\r\n    createJournalLine(parseExpression(rollOnTable(table)));\r\n  };\r\n  return button;\r\n}\r\n\r\nexport function clearJournal() {\r\n  const journal = document.getElementById('journal');\r\n  journal.innerHTML = '';\r\n}\r\n","import { createJournalLine, clearJournal, parseExpression } from './journal';\r\n\r\nconst button = document.getElementById('button');\r\nconst btnClearJournal = document.getElementById('clearJournal');\r\n\r\nbutton.onclick = function () {\r\n  const content = parseExpression('roll [1d6] times on table {Trap} and then do something else');\r\n  createJournalLine(content);\r\n};\r\n\r\nbtnClearJournal.onclick = function () {\r\n  console.log('clear journal clicked');\r\n  clearJournal();\r\n};\r\n"]}